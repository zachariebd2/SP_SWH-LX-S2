unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/38.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/38.txt
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0/SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T00:54:28.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0.zip
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:54:28.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:54:28.648    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T00:54:32.563    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1628 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102504-198_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0/SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0.zip
run script
2024-01-14T00:54:37.180    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:37.180    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0.zip
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:54:37.182    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102506-003_L1C_047-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0/SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0.zip
run script
2024-01-14T00:54:42.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0.zip
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:54:42.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:54:42.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:54:42.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-386_L1C_054-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0/SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0.zip
run script
2024-01-14T00:56:25.435    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0.zip
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:56:25.437    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102528-554_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0/SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T00:58:08.644    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0.zip
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:58:08.646    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102536-881_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/18/SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0/SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0.zip
run script
2024-01-14T01:00:03.524    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0.zip
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:00:03.525    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101218-102538-685_L1C_054-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0/SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T01:01:59.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0.zip
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:01:59.088    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105200-643_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0/SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0.zip
run script
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0.zip
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:02.583    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105202-448_L1C_047-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0/SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0.zip
run script
2024-01-14T01:02:06.171    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:06.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0.zip
2024-01-14T01:02:06.171    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:06.172    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105159-536_L1C_048-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0/SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0.zip
run script
2024-01-14T01:02:10.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0.zip
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:10.109    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105203-479_L1C_048-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0/SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0.zip
run script
2024-01-14T01:02:32.790    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0.zip
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:32.791    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:02:39.745    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (442 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101227-105206-174_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0/SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0.zip
run script
2024-01-14T01:02:44.187    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0.zip
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:44.189    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105133-754_L1C_050-254-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0/SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0.zip
run script
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0.zip
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:48.415    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:02:51.360    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 802). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105136-474_L1C_050-254-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0/SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0.zip
run script
2024-01-14T01:02:56.209    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:56.210    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0.zip
2024-01-14T01:02:56.210    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:02:56.210    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:02:56.210    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:02:56.211    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:02:56.211    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:02:56.211    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:02:56.211    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:02:56.211    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105225-238_L1C_051-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0/SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T01:06:11.733    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:06:11.733    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0.zip
2024-01-14T01:06:11.733    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:06:11.734    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105228-222_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/27/SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0/SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0.zip
run script
2024-01-14T01:09:01.936    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:09:01.937    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0.zip
2024-01-14T01:09:01.937    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:09:01.937    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:09:01.937    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:09:01.937    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:09:01.938    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:09:01.938    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:09:01.938    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:09:01.938    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101227-105237-535_L1C_051-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/29/SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0/SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0.zip
run script
2024-01-14T01:10:57.653    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0.zip
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:10:57.655    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100729-105516-515_L1C_048-254-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/07/29/SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T01:11:02.381    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:02.382    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0.zip
2024-01-14T01:11:02.382    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:11:02.383    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105523-851_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/29/SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0/SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T01:11:24.933    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0.zip
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:11:24.935    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105532-202_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/29/SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0/SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T01:11:53.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:53.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0.zip
2024-01-14T01:11:53.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:11:53.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:11:53.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:11:53.284    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:11:53.284    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:11:53.284    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:11:53.284    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:11:53.284    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:14:27.403    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2988 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105556-027_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/29/SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0/SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0.zip
run script
2024-01-14T01:14:32.230    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0.zip
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:14:32.231    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100729-105558-722_L1C_050-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/20/SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T01:16:53.546    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:16:53.547    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0.zip
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:16:53.548    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103216-836_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/20/SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T01:16:58.307    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0.zip
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:16:58.308    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103225-066_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/20/SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0/SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0.zip
run script
2024-01-14T01:17:22.865    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0.zip
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:17:22.867    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100820-103226-870_L1C_048-255-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0/SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0.zip
run script
2024-01-14T01:17:51.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:51.476    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0.zip
2024-01-14T01:17:51.476    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:17:51.476    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:17:51.476    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:51.476    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:17:51.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:17:51.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:17:51.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:17:51.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:17:54.597    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (346 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104409-401_L1C_048-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0/SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T01:17:59.688    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:59.689    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0.zip
2024-01-14T01:17:59.689    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:17:59.690    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104412-264_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0/SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T01:18:04.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0.zip
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:18:04.953    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104420-591_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0/SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0.zip
run script
2024-01-14T01:18:10.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:10.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0.zip
2024-01-14T01:18:10.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:18:10.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:18:10.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:10.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:18:10.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:18:10.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:18:10.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:18:10.051    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100809-104423-286_L1C_048-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0/SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T01:18:16.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0.zip
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:18:16.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:18:16.282    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-097_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0/SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0.zip
run script
2024-01-14T01:18:21.184    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:21.184    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0.zip
2024-01-14T01:18:21.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:18:21.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:18:21.185    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104345-988_L1C_049-254-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0/SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0.zip
run script
2024-01-14T01:18:26.069    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:26.070    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0.zip
2024-01-14T01:18:26.070    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:18:26.070    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:18:26.070    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:18:26.070    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:18:26.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:18:26.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:18:26.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:18:26.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-517_L1C_049-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0/SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T01:20:43.851    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:20:43.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0.zip
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:20:43.853    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104401-685_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0/SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0.zip
run script
2024-01-14T01:23:05.951    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0.zip
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:23:05.952    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:23:05.953    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:23:05.953    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:23:05.953    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104410-011_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0/SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T01:24:58.878    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0.zip
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:24:58.880    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:26:12.908    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 240). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104418-337_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/08/09/SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0/SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0.zip
run script
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0.zip
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:26:17.950    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:26:17.951    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100809-104419-228_L1C_049-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/06/SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0/SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0.zip
run script
2024-01-14T01:27:33.162    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0.zip
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:33.163    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104715-689_L1C_048-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/06/SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0/SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T01:27:38.104    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:38.105    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0.zip
2024-01-14T01:27:38.105    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:38.106    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104716-772_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/06/SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0/SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0.zip
run script
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0.zip
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:42.892    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104718-577_L1C_048-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/06/SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0/SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0.zip
run script
2024-01-14T01:27:47.945    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0.zip
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:47.946    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:47.947    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:47.947    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104729-636_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/06/SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0/SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0.zip
run script
2024-01-14T01:27:52.557    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:52.558    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0.zip
2024-01-14T01:27:52.558    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:52.559    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100406-104732-332_L1C_048-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/12/22/SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0/SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0.zip
run script
2024-01-14T01:27:57.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0.zip
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:27:57.441    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:27:57.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104814-336_L1C_048-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 1 0 ... 2 2 2]
 [0 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/22/SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0/SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0.zip
run script
2024-01-14T01:28:20.712    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0.zip
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:28:20.714    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:28:27.750    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (223 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101222-104817-056_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/12/22/SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0/SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0.zip
run script
2024-01-14T01:28:32.012    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0.zip
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:28:32.013    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:28:32.014    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:28:32.014    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:28:32.014    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104838-888_L1C_049-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/22/SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0/SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0.zip
run script
2024-01-14T01:29:14.438    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0.zip
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:29:14.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104841-824_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/22/SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0/SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0.zip
run script
2024-01-14T01:29:47.787    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0.zip
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:29:47.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101222-104844-519_L1C_049-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/26/SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0/SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0.zip
run script
2024-01-14T01:30:12.990    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0.zip
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:12.992    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104422-628_L1C_048-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/26/SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0/SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0.zip
run script
2024-01-14T01:30:36.770    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:36.771    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0.zip
2024-01-14T01:30:36.771    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:36.771    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:36.771    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:36.771    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:36.772    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:36.772    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:36.772    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:36.772    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:30:40.728    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (218 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101026-104426-238_L1C_048-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/01/13/SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0/SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0.zip
run script
2024-01-14T01:30:44.309    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:44.309    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0.zip
2024-01-14T01:30:44.309    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:44.310    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100113-104254-159_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/12/SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0/SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0.zip
run script
2024-01-14T01:30:48.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:48.246    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0.zip
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:48.247    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103209-167_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/12/SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0/SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0.zip
run script
2024-01-14T01:30:52.751    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0.zip
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:52.753    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100412-103211-886_L1C_048-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/11/06/SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0/SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0.zip
run script
2024-01-14T01:30:57.771    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:57.772    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0.zip
2024-01-14T01:30:57.772    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:30:57.772    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:30:57.772    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:30:57.772    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:30:57.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:30:57.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:30:57.773    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:30:57.773    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103311-233_L1C_048-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/11/06/SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0/SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0.zip
run script
2024-01-14T01:31:01.912    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0.zip
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:01.913    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101106-103313-928_L1C_048-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/11/22/SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0/SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0.zip
run script
2024-01-14T01:31:06.759    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0.zip
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:06.760    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:06.761    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102532-861_L1C_048-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/11/22/SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0/SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0.zip
run script
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0.zip
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:11.968    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:11.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:11.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:11.969    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101122-102535-580_L1C_048-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0/SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0.zip
run script
2024-01-14T01:31:17.800    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:17.801    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0.zip
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:17.802    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110234-130_L1C_049-254-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0/SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0.zip
run script
2024-01-14T01:31:23.663    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0.zip
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:23.664    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:23.665    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100522-110235-935_L1C_049-254-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/28/SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0/SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0.zip
run script
2024-01-14T01:31:28.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:28.898    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0.zip
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:31:28.899    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105111-282_L1C_049-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/28/SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0/SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0.zip
run script
2024-01-14T01:32:28.480    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0.zip
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:32:28.481    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:32:28.482    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:32:28.482    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:32:28.482    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100628-105112-389_L1C_049-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/28/SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T01:33:41.754    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0.zip
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:33:41.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:37:01.026    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 618). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105134-272_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/28/SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T01:37:05.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0.zip
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:37:05.725    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105142-647_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/28/SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0/SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0.zip
run script
2024-01-14T01:40:08.455    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0.zip
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:40:08.456    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100628-105148-975_L1C_050-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0/SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T01:42:24.626    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0.zip
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:42:24.627    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:42:24.628    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102810-159_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0/SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T01:42:29.625    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:29.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0.zip
2024-01-14T01:42:29.626    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:42:29.626    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:42:29.626    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:29.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:42:29.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:42:29.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:42:29.627    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:42:29.627    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102818-389_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0/SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0.zip
run script
2024-01-14T01:43:27.796    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0.zip
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:43:27.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102820-194_L1C_049-255-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0/SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0.zip
run script
2024-01-14T01:44:52.495    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0.zip
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:44:52.497    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:44:57.989    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (264 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-439_L1C_049-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0/SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0.zip
run script
2024-01-14T01:45:03.354    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0.zip
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:45:03.355    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:45:03.356    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:45:08.901    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (272 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102908-583_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0/SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T01:45:14.354    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:14.355    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0.zip
2024-01-14T01:45:14.355    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:45:14.355    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:45:14.355    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:14.356    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:45:14.356    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:45:14.356    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:45:14.356    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:45:14.356    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:45:20.049    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (714 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102910-388_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0/SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T01:45:25.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0.zip
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:45:25.176    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102854-753_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0/SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T01:47:46.482    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0.zip
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:46.484    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:49:49.747    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 412). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100720-102857-448_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0/SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0.zip
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:49:54.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:49:54.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102842-120_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/20/SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0/SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T01:53:15.656    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0.zip
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:53:15.658    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100720-102844-839_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0/SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0.zip
run script
2024-01-14T01:56:40.442    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0.zip
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:56:40.444    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103220-972_L1C_049-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0/SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T01:58:57.255    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0.zip
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:58:57.256    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:58:57.257    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:58:57.257    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103221-092_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0/SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0.zip
run script
2024-01-14T02:01:12.288    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:01:12.289    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0.zip
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:01:12.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103222-897_L1C_049-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0/SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0.zip
run script
2024-01-14T02:03:15.731    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0.zip
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:15.732    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:15.733    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103301-196_L1C_049-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0/SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0.zip
run script
2024-01-14T02:03:21.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:21.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0.zip
2024-01-14T02:03:21.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:21.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:21.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:21.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:21.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:21.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:21.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:21.126    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103303-169_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0/SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0.zip
run script
2024-01-14T02:03:26.696    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0.zip
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:26.698    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:26.699    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:26.699    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103305-864_L1C_049-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0/SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0.zip
run script
2024-01-14T02:03:32.002    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0.zip
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:32.004    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-555_L1C_050-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T02:05:42.811    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0.zip
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:42.812    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103244-700_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0/SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T02:07:56.869    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0.zip
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:07:56.870    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:07:56.871    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:07:56.871    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:07:56.871    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:09:34.631    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 344). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100725-103251-919_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0/SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T02:09:39.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0.zip
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:09:39.507    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:09:39.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:11:48.997    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 842). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103235-366_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/25/SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0/SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T02:11:53.933    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:11:53.934    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0.zip
2024-01-14T02:11:53.934    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:11:53.934    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:11:53.934    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:11:53.934    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:11:53.935    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:11:53.935    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:11:53.935    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:11:53.935    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100725-103238-975_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0/SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0.zip
run script
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0.zip
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:11.525    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:11.526    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:11.526    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:11.526    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103249-140_L1C_049-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T02:17:17.013    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0.zip
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:17:17.014    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:17:17.015    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:17:17.015    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:17:17.015    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:19:01.939    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 362). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100915-103252-004_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0/SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0.zip
run script
2024-01-14T02:19:06.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0.zip
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:06.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103237-966_L1C_052-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0/SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0.zip
run script
2024-01-14T02:22:26.838    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:22:26.839    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0.zip
2024-01-14T02:22:26.839    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:22:26.839    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:22:26.839    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:22:26.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:22:26.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:22:26.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:22:26.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:22:26.840    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103240-829_L1C_052-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0/SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0.zip
run script
2024-01-14T02:26:01.096    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0.zip
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:26:01.098    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103249-107_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/15/SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0/SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0.zip
run script
2024-01-14T02:29:29.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0.zip
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:29:29.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:30:57.203    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 406). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100915-103251-827_L1C_052-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/10/27/SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0/SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0.zip
run script
2024-01-14T02:31:02.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:02.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0.zip
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:02.343    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102534-571_L1C_049-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/10/27/SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0/SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T02:31:07.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:07.587    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0.zip
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:07.588    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101027-102536-544_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/03/02/SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0/SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T02:31:12.423    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0.zip
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:12.425    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100302-102035-886_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/03/02/SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0/SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0.zip
run script
2024-01-14T02:31:20.183    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0.zip
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:20.184    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:31:26.487    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (229 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100302-102029-979_L1C_054-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/10/15/SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0/SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T02:31:32.131    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:32.132    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0.zip
2024-01-14T02:31:32.132    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:32.132    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:32.133    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105630-820_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/10/15/SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0/SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T02:31:37.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:37.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0.zip
2024-01-14T02:31:37.391    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:37.391    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:37.391    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:37.391    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:37.392    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:37.392    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:37.392    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:37.392    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101015-105632-625_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0/SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0.zip
run script
2024-01-14T02:31:42.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0.zip
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:42.543    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-546_L1C_050-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0/SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T02:35:27.787    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0.zip
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:35:27.789    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102850-667_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0/SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0.zip
run script
2024-01-14T02:39:21.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0.zip
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:39:21.884    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:39:21.885    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102851-581_L1C_050-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0/SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0.zip
run script
2024-01-14T02:43:15.436    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0.zip
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:15.438    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-076_L1C_050-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0/SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T02:46:19.995    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:19.996    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0.zip
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:46:19.997    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102907-220_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0/SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T02:49:25.195    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0.zip
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:49:25.197    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:51:35.934    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (870 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102915-498_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0/SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0.zip
run script
2024-01-14T02:51:40.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0.zip
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:51:40.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:51:40.991    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:51:44.527    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 218). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102917-303_L1C_051-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0/SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0.zip
run script
2024-01-14T02:51:49.876    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0.zip
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:51:49.878    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102931-918_L1C_051-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0/SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T02:53:28.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0.zip
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:53:28.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:53:28.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:53:28.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:53:28.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102932-086_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0/SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0.zip
run script
2024-01-14T02:55:03.056    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:03.057    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0.zip
2024-01-14T02:55:03.057    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:55:03.057    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:55:03.058    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100910-102933-891_L1C_051-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0/SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0.zip
run script
2024-01-14T02:56:35.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0.zip
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:56:35.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:56:35.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:56:35.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:56:35.516    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-352_L1C_052-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0/SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0.zip
run script
2024-01-14T02:59:50.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0.zip
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:59:50.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102913-497_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0/SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0.zip
run script
2024-01-14T03:03:05.507    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:03:05.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0.zip
2024-01-14T03:03:05.508    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:03:05.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:03:05.509    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102921-799_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/10/SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0/SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0.zip
run script
2024-01-14T03:06:32.445    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0.zip
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:06:32.446    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100910-102923-603_L1C_052-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/29/SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0/SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0.zip
run script
2024-01-14T03:10:03.929    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0.zip
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:10:03.931    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:12:23.181    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (374 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103217-530_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/29/SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T03:12:28.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0.zip
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:12:28.413    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:14:26.326    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 192). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103220-370_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/29/SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T03:14:31.576    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:31.577    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0.zip
2024-01-14T03:14:31.577    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:31.577    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:31.578    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103228-672_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/29/SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0/SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0.zip
run script
2024-01-14T03:16:20.877    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0.zip
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:16:20.879    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100629-103237-864_L1C_050-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/25/SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0/SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0.zip
run script
2024-01-14T03:17:34.761    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0.zip
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:17:34.762    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:17:34.763    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:19:44.571    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (702 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103636-449_L1C_050-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/08/25/SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0/SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0.zip
run script
2024-01-14T03:19:49.697    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0.zip
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:19:49.699    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100825-103639-144_L1C_050-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/05/SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0/SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0.zip
run script
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0.zip
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:21:53.353    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:21:53.354    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:21:53.354    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:21:53.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:21:53.354    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105201-306_L1C_050-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/05/SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0/SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0.zip
run script
2024-01-14T03:24:33.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:24:33.543    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0.zip
2024-01-14T03:24:33.543    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:24:33.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:24:33.544    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101105-105204-025_L1C_050-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/17/SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0/SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T03:26:47.934    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0.zip
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:26:47.936    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102110-361_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/17/SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0/SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0.zip
run script
2024-01-14T03:30:22.412    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:22.413    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0.zip
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:22.414    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101117-102113-056_L1C_050-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/08/SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0/SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0.zip
run script
2024-01-14T03:33:54.688    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0.zip
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:33:54.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:33:54.690    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101208-101721-013_L1C_050-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/11/SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T03:37:55.669    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:37:55.670    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0.zip
2024-01-14T03:37:55.670    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:37:55.670    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:37:55.671    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:41:33.878    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 786). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105107-089_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/04/11/SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0/SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0.zip
run script
2024-01-14T03:41:39.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:39.176    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0.zip
2024-01-14T03:41:39.176    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:41:39.176    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:41:39.176    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:39.177    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:41:39.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:41:39.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:41:39.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:41:39.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:41:43.398    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 239). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100411-105109-808_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/04/18/SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0/SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T03:41:48.394    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0.zip
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:41:48.395    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:41:48.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:41:48.396    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101631-349_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/18/SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0/SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T03:45:35.543    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0.zip
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:45:35.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:45:35.545    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:45:35.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:45:35.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100418-101634-068_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/18/SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0/SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T03:49:28.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0.zip
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:49:28.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101643-576_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/18/SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0/SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T03:52:20.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0.zip
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:52:20.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:52:20.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:52:20.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:52:20.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:54:40.407    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 225). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100418-101646-271_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/18/SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0/SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T03:54:44.087    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0.zip
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:54:44.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104353-445_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/18/SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0/SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T03:57:44.769    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:57:44.770    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0.zip
2024-01-14T03:57:44.770    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:57:44.770    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:57:44.771    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100618-104356-140_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/18/SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0/SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0.zip
run script
2024-01-14T04:00:49.258    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0.zip
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:00:49.260    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104424-160_L1C_053-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/18/SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0/SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0.zip
run script
2024-01-14T04:04:01.418    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0.zip
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:04:01.419    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100618-104429-575_L1C_053-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0/SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0.zip
run script
2024-01-14T04:05:51.212    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0.zip
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:05:51.213    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:05:51.214    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:05:51.214    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102833-015_L1C_050-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 0 ... 2 2 2]
 [1 0 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0/SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0.zip
run script
2024-01-14T04:09:08.290    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0.zip
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:09:08.292    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102810-686_L1C_051-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0/SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0.zip
run script
2024-01-14T04:12:50.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:50.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0.zip
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:12:50.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102812-491_L1C_051-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0/SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T04:16:29.264    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:29.264    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0.zip
2024-01-14T04:16:29.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:16:29.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:16:29.265    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102828-137_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0/SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0.zip
run script
2024-01-14T04:19:51.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0.zip
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:19:51.007    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:19:53.902    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1810). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100624-102829-941_L1C_051-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0/SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T04:19:59.367    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:59.368    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0.zip
2024-01-14T04:19:59.368    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:19:59.368    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:19:59.368    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:59.369    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:19:59.369    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:19:59.369    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:19:59.369    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:19:59.369    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102835-854_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0/SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T04:23:05.815    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0.zip
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:23:05.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:23:05.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:23:05.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:23:05.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:25:25.856    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (874 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102844-132_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/24/SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0/SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0.zip
run script
2024-01-14T04:25:31.311    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0.zip
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:25:31.312    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:25:35.768    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 218). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100624-102845-937_L1C_051-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/04/SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T04:25:40.503    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0.zip
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:25:40.504    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:27:46.663    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 211). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103615-036_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/04/SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0.zip
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:27:51.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:27:51.568    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103623-338_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/04/SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0/SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0.zip
run script
2024-01-14T04:29:49.249    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:29:49.250    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0.zip
2024-01-14T04:29:49.250    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:29:49.250    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:29:49.251    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103631-664_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/04/SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0/SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0.zip
run script
2024-01-14T04:31:16.520    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0.zip
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:31:16.521    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:31:16.522    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:31:16.522    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:31:16.522    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:31:20.219    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 246). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100704-103633-469_L1C_050-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/31/SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T04:31:26.158    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0.zip
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:31:26.159    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:31:26.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:31:26.160    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:34:06.174    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 498). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101713-046_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/31/SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T04:34:12.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0.zip
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:34:12.160    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101721-300_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/31/SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0/SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0.zip
run script
2024-01-14T04:37:09.045    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0.zip
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:37:09.047    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:39:43.603    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (282 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100731-101723-104_L1C_050-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/31/SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0/SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T04:39:50.045    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:39:50.046    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0.zip
2024-01-14T04:39:50.046    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:39:50.047    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101725-607_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/31/SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0/SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T04:42:47.561    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0.zip
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:42:47.563    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:45:10.531    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 224). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100731-101728-302_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/04/16/SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0/SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T04:45:16.122    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0.zip
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:45:16.124    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105514-538_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/16/SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0/SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0.zip
run script
2024-01-14T04:47:57.582    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:57.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0.zip
2024-01-14T04:47:57.583    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:47:57.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:47:57.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:57.584    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:47:57.584    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:47:57.584    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:47:57.584    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:47:57.584    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100416-105516-342_L1C_050-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/07/SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0/SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T04:50:25.575    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0.zip
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:50:25.577    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105537-358_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/07/SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0/SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0.zip
run script
2024-01-14T04:52:59.364    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0.zip
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:52:59.366    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100607-105539-163_L1C_050-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/08/SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0/SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T04:55:27.811    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0.zip
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:55:27.812    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103622-802_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/08/SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0/SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T04:57:32.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0.zip
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:57:32.117    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:57:32.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:59:25.236    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 194). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100608-103625-521_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/08/SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0/SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T04:59:29.660    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0.zip
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:59:29.663    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103535-820_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/08/SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0/SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0.zip
run script
2024-01-14T04:59:34.126    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:34.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0.zip
2024-01-14T04:59:34.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:59:34.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:59:34.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:34.128    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:59:34.128    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:59:34.128    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:59:34.128    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:59:34.128    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100608-103537-625_L1C_051-254-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/14/SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0/SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T04:59:38.068    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0.zip
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:59:38.070    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102057-626_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/14/SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0/SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T05:01:53.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:53.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0.zip
2024-01-14T05:01:53.045    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:01:53.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:01:53.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:53.052    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:01:53.055    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:01:53.057    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:01:53.060    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:01:53.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:03:52.666    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 205). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100614-102100-345_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/23/SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0/SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T05:03:57.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0.zip
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:03:57.957    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104756-390_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/23/SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0/SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0.zip
run script
2024-01-14T05:06:29.485    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0.zip
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:06:29.487    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:08:38.543    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 396). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100623-104759-109_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/14/SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0/SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T05:08:43.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0.zip
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:08:43.488    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104416-102_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/14/SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0/SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0.zip
run script
2024-01-14T05:11:05.806    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0.zip
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:11:05.807    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:11:05.808    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:11:05.808    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100714-104417-906_L1C_050-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/14/SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0/SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0.zip
run script
2024-01-14T05:13:16.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0.zip
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:13:16.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-363_L1C_052-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/14/SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0/SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0.zip
run script
2024-01-14T05:16:28.638    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0.zip
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:16:28.640    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104433-604_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/14/SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0/SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0.zip
run script
2024-01-14T05:19:44.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0.zip
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:19:44.194    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100714-104441-978_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/03/SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0/SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0.zip
run script
2024-01-14T05:21:01.137    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0.zip
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:01.140    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103205-145_L1C_051-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/03/SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0/SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0.zip
run script
2024-01-14T05:24:26.365    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:24:26.366    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0.zip
2024-01-14T05:24:26.366    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:24:26.366    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:24:26.366    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:24:26.367    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:24:26.367    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:24:26.367    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:24:26.367    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:24:26.367    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103208-009_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 2 2 ... 1 1 1]
 [2 2 1 ... 1 1 1]
 [2 2 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/03/SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0/SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0.zip
run script
2024-01-14T05:29:24.384    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0.zip
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:29:24.385    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:29:24.386    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:29:24.386    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:29:24.386    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100603-103217-201_L1C_052-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/22/SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0/SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T05:33:23.920    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0.zip
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:33:23.922    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103941-730_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/22/SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0/SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T05:36:53.942    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0.zip
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:36:53.943    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:36:53.944    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100422-103945-339_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 2 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/28/SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0/SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T05:40:16.671    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:16.672    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0.zip
2024-01-14T05:40:16.672    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:16.672    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:16.673    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102422-895_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/28/SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0/SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T05:43:52.630    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:43:52.631    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0.zip
2024-01-14T05:43:52.631    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:43:52.632    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100428-102425-615_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 1 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/10/SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0/SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0.zip
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:30.831    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:30.832    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:30.832    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102500-518_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/10/SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0/SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T05:51:18.943    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0.zip
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:51:18.944    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:51:18.945    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:51:18.945    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102503-237_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/10/SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0/SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0.zip
run script
2024-01-14T05:55:42.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0.zip
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:55:42.516    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-205_L1C_053-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/10/SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0/SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T05:58:26.933    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:58:26.933    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0.zip
2024-01-14T05:58:26.933    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:58:26.933    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:58:26.933    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:58:26.934    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:58:26.934    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:58:26.934    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:58:26.934    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:58:26.934    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102529-373_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/10/SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0/SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0.zip
run script
2024-01-14T06:01:11.523    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0.zip
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:01:11.524    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:01:11.525    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100810-102531-178_L1C_054-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/31/SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0/SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T06:03:56.702    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0.zip
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:03:56.703    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:03:56.704    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:03:56.704    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102114-807_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/31/SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0/SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T06:07:43.566    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0.zip
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:07:43.567    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100831-102117-526_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/04/SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0/SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T06:11:41.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0.zip
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:11:41.295    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104422-476_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/04/SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0/SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0.zip
run script
2024-01-14T06:15:25.409    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0.zip
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:15:25.410    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:15:28.595    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 448). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100904-104425-195_L1C_051-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/05/SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0/SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0.zip
run script
2024-01-14T06:15:35.444    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:15:35.445    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0.zip
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:15:35.446    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102507-262_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/05/SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0/SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T06:19:09.562    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0.zip
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:19:09.563    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:19:09.564    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:19:09.564    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:19:09.564    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100905-102509-981_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0/SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0.zip
run script
2024-01-14T06:22:51.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0.zip
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:22:51.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:22:51.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:22:51.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:22:51.912    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-671_L1C_051-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0/SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T06:26:04.310    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:26:04.311    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0.zip
2024-01-14T06:26:04.311    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:26:04.311    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:26:04.311    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:26:04.312    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:26:04.312    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:26:04.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:26:04.312    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:26:04.312    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104050-888_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0/SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0.zip
run script
2024-01-14T06:29:17.274    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:17.275    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0.zip
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:29:17.276    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20101212-104051-778_L1C_051-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0/SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0.zip
run script
2024-01-14T06:32:29.881    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:29.882    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0.zip
2024-01-14T06:32:29.882    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:32:29.882    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:32:29.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:29.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:32:29.883    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:32:29.883    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:32:29.883    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:32:29.883    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104054-862_L1C_052-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0/SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0.zip
run script
2024-01-14T06:36:05.497    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:36:05.498    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0.zip
2024-01-14T06:36:05.498    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:36:05.498    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:36:05.498    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:36:05.499    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:36:05.499    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:36:05.499    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:36:05.499    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:36:05.499    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104057-798_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0/SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0.zip
run script
2024-01-14T06:39:39.221    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:39.222    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0.zip
2024-01-14T06:39:39.222    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:39:39.222    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:39:39.223    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104106-148_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/12/SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0/SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0.zip
run script
2024-01-14T06:42:43.825    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:42:43.826    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0.zip
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:42:43.827    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101212-104114-522_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/10/SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0/SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0.zip
run script
2024-01-14T06:44:06.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0.zip
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:44:06.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102130-605_L1C_051-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/10/SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0/SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0.zip
run script
2024-01-14T06:45:25.471    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0.zip
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:45:25.472    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100710-102133-300_L1C_051-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/29/SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0/SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0.zip
run script
2024-01-14T06:46:20.521    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0.zip
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:46:20.522    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:46:20.523    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101327-558_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/29/SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0/SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0.zip
run script
2024-01-14T06:49:30.321    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0.zip
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:49:30.322    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:50:13.625    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 270). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20101229-101330-277_L1C_052-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/06/19/SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0/SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0.zip
run script
2024-01-14T06:50:17.891    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0.zip
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:50:17.892    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102508-616_L1C_052-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/19/SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0/SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0.zip
run script
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0.zip
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:53:09.076    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100619-102514-030_L1C_052-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/05/SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0/SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0.zip
run script
2024-01-14T06:54:49.026    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0.zip
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:54:49.028    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-803_L1C_053-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/05/SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0/SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T06:57:39.032    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:39.033    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0.zip
2024-01-14T06:57:39.033    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:57:39.033    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:57:39.034    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102135-947_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/05/SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0/SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0.zip
run script
2024-01-14T07:00:29.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:29.888    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0.zip
2024-01-14T07:00:29.888    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:00:29.888    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:00:29.888    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:29.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:00:29.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:00:29.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:00:29.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:00:29.889    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG2-XS_20100805-102137-752_L1C_053-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/01/SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0/SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0.zip
run script
2024-01-14T07:03:24.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0.zip
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:03:24.809    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:03:28.996    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (67 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT5-HRG1-XS_20100401-104334-287_L1C_054-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/02/02/SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:03:32.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:03:32.082    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130202-094001-079_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/07/SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:04:02.196    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:04:02.198    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130207-093935-846_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/12/SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:04:27.025    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:27.026    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:04:27.026    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:04:27.026    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:04:27.026    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:27.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:04:27.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:04:27.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:04:27.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:04:27.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130212-093912-761_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/14/SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:04:56.582    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:56.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:04:56.583    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:04:56.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:04:56.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:56.584    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:04:56.584    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:04:56.584    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:04:56.584    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:04:56.584    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130314-093648-581_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/19/SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:05:26.096    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:05:26.100    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130319-093623-416_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/04/03/SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:05:56.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:05:56.751    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130403-093505-909_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/04/13/SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:06:25.963    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:25.964    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:06:25.964    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:06:25.965    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130413-093413-451_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/04/18/SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:06:53.301    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:53.302    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:06:53.302    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:06:53.302    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:06:53.302    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:53.303    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:06:53.303    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:06:53.303    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:06:53.303    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:06:53.303    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130418-093349-627_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/04/23/SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:07:21.960    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:07:21.961    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:07:21.962    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130423-093325-523_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/03/SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:07:49.532    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:07:49.534    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130503-093236-186_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/08/SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:08:18.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:08:18.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:08:18.506    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130508-093210-762_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/13/SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:08:49.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:08:49.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:08:49.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:08:49.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130513-093144-839_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/18/SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:09:20.999    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:09:21.001    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130518-093118-432_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/23/SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:09:53.978    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:53.979    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:09:53.979    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:09:53.979    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:09:53.979    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:53.980    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:09:53.980    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:09:53.980    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:09:53.980    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:09:53.980    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130523-093051-471_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/02/SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:10:25.680    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:10:25.681    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:10:25.681    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:10:25.681    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:10:25.681    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:10:25.682    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:10:25.682    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:10:25.682    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:10:25.682    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:10:25.682    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130602-092956-046_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/07/SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:10:54.677    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:10:54.678    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130607-092930-003_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/12/SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0.zip
run script
2024-01-14T07:11:21.332    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0.zip
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:11:21.333    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:11:21.334    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130612-092905-963_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0/SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0.zip
run script
2024-01-14T07:11:51.904    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:51.905    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0.zip
2024-01-14T07:11:51.905    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:11:51.905    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:11:51.905    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:51.906    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:11:51.906    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:11:51.906    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:11:51.906    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:11:51.906    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-414_L1C_047-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0/SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0.zip
run script
2024-01-14T07:11:57.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:57.708    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0.zip
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:11:57.709    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092505-540_L1C_048-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0/SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0.zip
run script
2024-01-14T07:12:01.146    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0.zip
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:12:01.147    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:12:01.148    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:12:01.148    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092506-442_L1C_048-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0/SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0.zip
run script
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0.zip
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:12:04.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:12:04.443    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:12:04.443    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:12:04.443    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-687_L1C_049-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0/SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T07:14:32.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0.zip
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:14:32.144    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092430-790_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0/SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0.zip
run script
2024-01-14T07:16:59.353    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:16:59.354    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0.zip
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:16:59.355    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092432-594_L1C_049-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T07:19:17.645    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:17.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0.zip
2024-01-14T07:19:17.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:17.646    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:17.646    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:17.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:17.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:17.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:17.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:17.647    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130108-092522-624_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/08/SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T07:19:21.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:21.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0.zip
2024-01-14T07:19:21.316    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:21.316    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:21.317    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130108-092522-474_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0/SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T07:19:24.606    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:24.606    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0.zip
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:24.607    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094347-276_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0/SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T07:20:20.199    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0.zip
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:20:20.200    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:20:20.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:20:20.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094355-605_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T07:22:40.566    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:40.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0.zip
2024-01-14T07:22:40.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:22:40.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:22:40.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:40.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:22:40.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:22:40.568    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:22:40.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:22:40.568    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130107-094447-199_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T07:22:43.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:43.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0.zip
2024-01-14T07:22:43.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:22:43.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:22:43.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:43.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:22:43.810    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:22:43.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:22:43.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:22:43.810    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094447-015_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0/SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:22:47.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:47.585    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:22:47.585    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:22:47.586    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094345-324_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T07:23:53.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:23:53.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0.zip
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:23:53.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094353-674_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/01/07/SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0/SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0.zip
run script
2024-01-14T07:27:12.701    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0.zip
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:27:12.702    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:27:12.703    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:27:12.703    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130107-094355-479_L1C_050-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T07:30:30.540    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0.zip
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:30:30.541    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:30:30.542    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091556-354_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T07:32:02.114    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0.zip
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:32:02.115    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:32:02.116    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091619-633_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T07:32:28.814    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0.zip
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:32:28.816    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091626-091_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T07:32:39.976    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0.zip
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:32:39.978    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:32:39.979    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:32:42.575    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (181 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091629-701_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T07:32:45.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0.zip
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:32:45.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091600-980_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T07:34:13.706    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0.zip
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:34:13.708    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:34:13.717    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:34:13.717    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130315-091604-589_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T07:35:34.013    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0.zip
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:35:34.015    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091556-474_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T07:38:40.221    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0.zip
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:38:40.222    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091559-307_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/03/15/SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T07:41:40.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0.zip
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:41:40.489    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130315-091604-722_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0/SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0.zip
run script
2024-01-14T07:44:39.914    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:44:39.915    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0.zip
2024-01-14T07:44:39.915    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:44:39.916    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091144-812_L1C_049-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0/SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0.zip
run script
2024-01-14T07:46:03.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:03.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0.zip
2024-01-14T07:46:03.746    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:03.746    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:03.746    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:03.746    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:03.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:03.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:03.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:03.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091206-282_L1C_049-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T07:46:29.190    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0.zip
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:29.192    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091213-640_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T07:46:39.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0.zip
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:39.105    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:46:41.417    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (370 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091217-249_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T07:46:44.576    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:44.576    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0.zip
2024-01-14T07:46:44.576    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:44.577    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091148-536_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T07:48:00.508    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0.zip
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:48:00.509    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:48:00.510    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:48:00.510    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130504-091152-145_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T07:49:13.300    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0.zip
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:13.310    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091144-033_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T07:52:04.295    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0.zip
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:52:04.297    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091146-863_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/04/SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T07:54:56.980    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0.zip
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:54:56.982    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130504-091152-277_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0/SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0.zip
run script
2024-01-14T07:57:36.155    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0.zip
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:57:36.156    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:57:36.157    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:57:36.157    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:57:36.157    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091053-270_L1C_049-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0/SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0.zip
run script
2024-01-14T07:59:01.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0.zip
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:59:01.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:59:01.059    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:59:01.059    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091114-741_L1C_049-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T07:59:25.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:25.872    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0.zip
2024-01-14T07:59:25.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:59:25.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:59:25.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091122-098_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T07:59:36.144    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0.zip
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:59:36.145    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:59:38.234    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (370 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091125-708_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0.zip
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:59:41.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:59:41.313    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:59:41.313    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091056-994_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T08:00:59.206    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:59.207    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0.zip
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:00:59.208    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130514-091100-603_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 1 0 0]
 [0 0 0 ... 1 1 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0/SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0.zip
run script
2024-01-14T08:02:10.285    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0.zip
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:02:10.286    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:02:10.287    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:02:10.287    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:02:10.287    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091053-393_L1C_051-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 1 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T08:05:02.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0.zip
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:05:02.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:05:02.093    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:05:02.093    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091055-321_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/05/14/SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T08:07:54.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:07:54.675    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0.zip
2024-01-14T08:07:54.675    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:07:54.675    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:07:54.675    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:07:54.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:07:54.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:07:54.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:07:54.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:07:54.676    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130514-091100-735_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T08:10:36.971    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0.zip
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:10:36.973    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090813-871_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T08:11:57.052    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:11:57.053    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0.zip
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:11:57.054    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090837-153_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0.zip
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:12:20.463    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090843-608_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T08:12:30.765    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:30.765    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0.zip
2024-01-14T08:12:30.765    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:12:30.766    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T08:12:32.943    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (370 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090847-217_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T08:12:36.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0.zip
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:12:36.174    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:12:36.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:12:36.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:12:36.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090818-500_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0/SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T08:13:53.482    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:13:53.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0.zip
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:13:53.484    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130613-090823-012_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T08:15:03.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0.zip
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:15:03.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090813-994_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 0 1 ... 0 0 0]
 [0 0 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T08:17:55.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:17:55.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0.zip
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:17:55.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090816-828_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/13/SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T08:20:49.969    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0.zip
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:20:49.970    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130613-090822-242_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T08:23:30.758    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0.zip
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:23:30.760    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090749-479_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T08:24:50.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0.zip
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:24:50.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090812-761_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T08:25:13.490    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0.zip
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:25:13.491    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:25:13.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:25:13.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:25:13.492    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090819-216_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T08:25:22.174    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0.zip
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:25:22.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T08:25:24.328    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1498 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090822-826_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T08:25:27.664    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:27.665    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0.zip
2024-01-14T08:25:27.665    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:25:27.665    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:25:27.665    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:25:27.665    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:25:27.666    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:25:27.666    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:25:27.666    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:25:27.666    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090754-108_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T08:26:43.299    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0.zip
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:26:43.300    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130618-090757-718_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T08:27:53.776    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:27:53.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0.zip
2024-01-14T08:27:53.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:27:53.778    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090749-603_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T08:30:41.839    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0.zip
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:30:41.840    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090752-436_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/06/18/SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T08:33:34.927    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:33:34.928    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0.zip
2024-01-14T08:33:34.928    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:33:34.928    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:33:34.929    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130618-090757-850_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T08:36:12.235    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0.zip
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:36:12.237    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091931-029_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T08:36:39.957    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0.zip
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:36:39.959    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091937-484_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T08:36:52.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0.zip
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:36:52.927    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T08:36:55.952    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (710 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091941-094_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0/SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T08:36:59.127    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0.zip
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:36:59.128    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:36:59.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:36:59.129    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:36:59.129    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091907-746_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T08:38:21.612    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0.zip
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:38:21.613    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091912-373_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0/SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T08:39:42.467    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0.zip
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:39:42.469    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130203-091916-885_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T08:40:52.376    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0.zip
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:40:52.378    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:40:52.379    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091907-864_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T08:43:40.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:43:40.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0.zip
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:43:40.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091910-697_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/03/SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T08:46:30.634    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:46:30.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0.zip
2024-01-14T08:46:30.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:46:30.636    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130203-091916-112_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T08:49:17.167    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:17.168    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0.zip
2024-01-14T08:49:17.168    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:49:17.168    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:49:17.168    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:17.168    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:49:17.169    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:49:17.169    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:49:17.169    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:49:17.169    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091907-308_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 1 2]
 [1 1 1 ... 0 1 2]
 [1 1 1 ... 0 1 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T08:49:43.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:43.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0.zip
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:49:43.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091913-766_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T08:49:55.901    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:55.902    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0.zip
2024-01-14T08:49:55.902    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:49:55.902    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:49:55.902    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:49:55.902    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:49:55.903    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:49:55.903    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:49:55.903    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:49:55.903    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T08:49:58.953    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (356 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091917-376_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0/SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T08:50:02.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0.zip
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:50:02.171    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091844-026_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T08:51:26.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:51:26.258    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0.zip
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:51:26.259    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091848-655_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 1 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0/SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T08:52:47.346    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0.zip
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:52:47.348    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130208-091853-167_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T08:53:59.578    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0.zip
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:53:59.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:53:59.580    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091844-143_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T08:56:49.675    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0.zip
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:56:49.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:56:49.677    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:56:49.677    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091846-976_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 0 0]
 [2 2 2 ... 1 0 0]
 [2 2 2 ... 1 1 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/08/SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0/SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T08:59:43.557    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0.zip
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:59:43.559    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130208-091852-391_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0/SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0.zip
run script
2024-01-14T09:02:27.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0.zip
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:02:27.160    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091843-258_L1C_049-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 2 2]
 [1 1 1 ... 1 2 2]
 [1 1 1 ... 1 1 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T09:02:55.592    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0.zip
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:02:55.594    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091850-615_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0/SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0.zip
run script
2024-01-14T09:03:08.055    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0.zip
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:03:08.056    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T09:03:11.037    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (358 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091854-225_L1C_049-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0/SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0.zip
run script
2024-01-14T09:03:14.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0.zip
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:03:14.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091821-778_L1C_050-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T09:04:38.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:04:38.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0.zip
2024-01-14T09:04:38.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:04:38.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:04:38.376    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:04:38.376    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:04:38.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:04:38.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:04:38.377    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:04:38.377    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091825-505_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T09:05:57.069    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:05:57.070    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0.zip
2024-01-14T09:05:57.070    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:05:57.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR1-XS_20130213-091829-115_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/02/13/SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0/SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0.zip
/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0.zip
run script
2024-01-14T09:07:10.703    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0.zip
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T09:07:10.705    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259300/INPUT/SPOT4-HRVIR2-XS_20130213-091820-993_L1C_051-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259300/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
end
[2024-01-14 09:09:58.145585168+00:00] cnes_level2/barrouz/4259300:  Account (env) = cnes_level2
[2024-01-14 09:09:58.146674435+00:00] cnes_level2/barrouz/4259300:     User (env) = barrouz
[2024-01-14 09:09:58.147751942+00:00] cnes_level2/barrouz/4259300:        GroupId = cesbio(426000053)
[2024-01-14 09:09:58.148863320+00:00] cnes_level2/barrouz/4259300:         UserId = barrouz(9134)
[2024-01-14 09:09:58.149935667+00:00] cnes_level2/barrouz/4259300:        Account = cnes_level2
[2024-01-14 09:09:58.150987765+00:00] cnes_level2/barrouz/4259300:        Account = cnes_level2
[2024-01-14 09:09:58.152080022+00:00] cnes_level2/barrouz/4259300:      Partition = cpu2022
[2024-01-14 09:09:58.153323718+00:00] cnes_level2/barrouz/4259300:            QOS = cpu_2022_1280
[2024-01-14 09:09:58.154741542+00:00] cnes_level2/barrouz/4259300:        JobName = inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200
[2024-01-14 09:09:58.156146576+00:00] cnes_level2/barrouz/4259300:     SubmitTime = 2024-01-13T13:42:46
[2024-01-14 09:09:58.157380851+00:00] cnes_level2/barrouz/4259300:        RunTime = 08:15:38
[2024-01-14 09:09:58.158646627+00:00] cnes_level2/barrouz/4259300:      TimeLimit = 1-16:00:00
[2024-01-14 09:09:58.159879253+00:00] cnes_level2/barrouz/4259300:   EligibleTime = 2024-01-13T13:42:46
[2024-01-14 09:09:58.161103588+00:00] cnes_level2/barrouz/4259300:      StartTime = 2024-01-14T00:54:20
[2024-01-14 09:09:58.162344514+00:00] cnes_level2/barrouz/4259300:        EndTime = 2024-01-14T09:09:58
[2024-01-14 09:09:58.163514401+00:00] cnes_level2/barrouz/4259300:       ExitCode = 0:0
[2024-01-14 09:09:58.164642238+00:00] cnes_level2/barrouz/4259300:       NodeList = trex074
[2024-01-14 09:09:58.165820814+00:00] cnes_level2/barrouz/4259300:      BatchHost = trex074
[2024-01-14 09:09:58.166972571+00:00] cnes_level2/barrouz/4259300:           TRES = 
[2024-01-14 09:09:58.168177007+00:00] cnes_level2/barrouz/4259300:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-14 09:09:58.169383683+00:00] cnes_level2/barrouz/4259300:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-14 09:09:58.170661548+00:00] cnes_level2/barrouz/4259300:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200.log
[2024-01-14 09:09:58.171938204+00:00] cnes_level2/barrouz/4259300:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4259300
JobID                : 4259300
JobName              : inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex074 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-13T13:42:46
Start time           : 2024-01-14T00:54:20
End time             : 2024-01-14T09:09:58
Elapsed time         : 08:15:38  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 2 days, 18:05:04
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_38_TCD-CIRRUS-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-14T00:54:20 2024-01-14T09:09:58 08:15:38  1-11:02:31 2-18:05:04       0.43625M  275864.73M   110023.48M  93439676K          0    trex074      1 23:40:38   trex074
   extern  | extern       COMPLETED   0:0    2024-01-14T00:54:20 2024-01-14T09:09:58 08:15:38  00:00.001  2-18:05:04       0.43625M       0.00M        0.00M      1680K          0    trex074      1 00:00:00   trex074

